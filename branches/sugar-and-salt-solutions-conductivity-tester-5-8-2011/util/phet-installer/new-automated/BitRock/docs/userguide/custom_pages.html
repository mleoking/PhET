
<style type="text/css"><!-- @import url("userguide.css"); --> </style>
<head><title>Custom Pages</title></head>
<body>
<center>
<table id="frame" border="0" cellpadding="20">	
<tr><td valign="top" cellpadding="0"><div id="content_left"><ul id="table_of_contents"><li><a href="overview.html">Overview</a></li><li><a href="features.html">Features</a></li><li><a href="what's_new_on_installbuilder_5.html">What's new on InstallBuilder 5</a></li><li><a href="specifications.html">Specifications</a></li><li><a href="how_to_register.html">How to Register</a></li><li><a href="installing_bitrock_installbuilder.html">Installing BitRock InstallBuilder</a></li><li><a href="building_your_first_installer.html">Building Your First Installer</a></li><li><a href="advanced_functionality.html">Advanced Functionality</a></li><li><a href="actions.html">Actions</a></li><li>Custom Pages</li><li><a href="conditional_evaluation.html">Conditional Evaluation</a></li><li><a href="running_the_installer.html">Running the Installer</a></li><li><a href="appendix.html">Appendix</a></li></ul></div></td><td valign="top">
<table border="0" cellpadding="0" cellspacing="0" align="center" style="margin-left:auto;margin-right:auto" >
  <tr><td>
<div id="content_right"><h1>Custom Pages</h1>
<p>BitRock InstallBuilder allows you to create custom installer pages to ask the
user for additional information, validate that information, and use it during the
installation process. An example of this would be to pass the information to post-installation scripts.</p>
<p>You can define such pages by adding parameters to the &lt;parameterList&gt; section in the XML project file.
There are different types of parameters: strings, booleans, option selection, and so on. Each one of them
will be displayed to the user appropriately through the GUI and text interfaces. For example, a file parameter
will be displayed with a graphical file selection button next to it and an option selection parameter will be
displayed as a combobox. The parameters will also be available as command line options and as installer variables.
</p>
<p>Parameter example:
</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
 &lt;fileParameter&gt;
     &lt;name&gt;apacheconfig&lt;/name&gt;
     &lt;cliOptionName&gt;apacheconfig&lt;/cliOptionName&gt;
     &lt;ask&gt;yes&lt;/ask&gt;     
     &lt;default&gt;/etc/httpd/conf/httpd.conf&lt;/default&gt;
     &lt;title&gt;Configuring Apache&lt;/title&gt;
     &lt;explanation&gt;Please specify the location of the Apache configuration file&lt;/explanation&gt;
     &lt;description&gt;Apache Configuration File&lt;/description&gt;
     &lt;mustBeWritable&gt;yes&lt;/mustBeWritable&gt;
     &lt;mustExist&gt;1&lt;/mustExist&gt;
     &lt;value&gt;&lt;/value&gt;
 &lt;/fileParameter&gt;</pre></td></tr></table>

<p>This will create the appropriate GUI screens for the graphical installers and make the parameter available as the
command line option --apacheconfig and as the installer variable ${apacheconfig}.</p>

<h2>Common Fields</h2>

<p>A number of fields are common across all parameters:</p>

<ul>
<li><b>name</b>: Name of the parameter. This will be used to create the corresponding installer environment variable and command line option.
Because of that, it may only contain alphanumerical characters.</li>
<li><b>value</b>: Value for the parameter.</li>
<li><b>default</b>: Default value, in case one is not specified by the user.</li>
<li><b>explanation</b>: Long description for the parameter.</li>
<li><b>description</b>: Short description for the parameter.</li>
<li><b>title</b>: Title that will be displayed for the corresponding installer page. If none is specified, the <b>description</b>
    field will be used instead.</li>
<li><b>cliOptionName</b>: Text to use for setting the value of the parameter through the command line interface. If none is used, 
    it will default to the value of the <b>name</b> field.</li>
<li><b>ask</b>: Whether to show or not the page to the end user (it can still be set through the command line interface).</li>
<li><b>width</b>: Width in characters of the corresponding field in the GUI page. If not specified, it defaults to 40.</li>
<li><b>leftImage</b>: When using <b>&lt;style&gt;custom&lt;/style&gt;</b> inside the <b>&lt;project&gt;</b> tag in your project file, it displays a custom PNG or GIF image at the left side of the installer page associated to this parameter. Its purpose is the same as the <b>&lt;leftImage&gt;</b> property inside the <b>&lt;project&gt;</b> tag, but allows you set a different image for each parameter page.</li>
</ul>

<p>Each one of the fields can reference installer variables (${product_fullname}, ${installdir}, and so on) and they will be substituted at runtime.</p>

<h2>String Parameter</h2>
<p>The string parameter allows you to request a text string from the user. It accepts all the common options.</p>
<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
    &lt;stringParameter&gt;
      &lt;name&gt;hostname&lt;/name&gt;
      &lt;default&gt;localhost&lt;/default&gt;
      &lt;value&gt;&lt;/value&gt;
      &lt;ask&gt;1&lt;/ask&gt;
      &lt;description&gt;Hostname&lt;/description&gt;
      &lt;explanation&gt;Please enter the hostname for your application server.&lt;/explanation&gt;
    &lt;/stringParameter&gt;

</pre></td></tr></table>

<h2>Label Parameter</h2>
<p>The label parameter allows you to display a string of read-only text inside an installer page. Optionally, you can include an image to the left side of the text.</p>
<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
    &lt;labelParameter&gt;
        &lt;name&gt;label&lt;/name&gt;
        &lt;title&gt;labelParameter test&lt;/title&gt;
        &lt;description&gt;This is a warning message inside an installer page.&lt;/description&gt;
	&lt;image&gt;/path/to/icons/warning.png&lt;/image&gt;
    &lt;/labelParameter&gt;
</pre></td></tr></table>

<h2>File and Directory Parameter</h2>
<p>File and directory parameters ask the user to enter a file or directory. 
They support additional fields:</p>

<ul>
<li><b>mustExist</b>: Whether to require or not that the file or directory must already exist.</li>
<li><b>mustBeWritable</b>: Whether to require or not that the file or
directory must be writable. If the file or directory does not already exist,
whether it can be created.</li>
</ul>

<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
     &lt;directoryParameter&gt;
            &lt;name&gt;installdir&lt;/name&gt;
            &lt;value&gt;&lt;/value&gt;
            &lt;description&gt;Installation Directory&lt;/description&gt;
            &lt;explanation&gt;Please specify the directory where ${product_fullname} will be installed&lt;/explanation&gt;
            &lt;default&gt;${platform_install_prefix}/${product_shortname}-${product_version}&lt;/default&gt;
            &lt;cliOptionName&gt;prefix&lt;/cliOptionName&gt;
            &lt;ask&gt;yes&lt;/ask&gt;
            &lt;mustBeWritable&gt;yes&lt;/mustBeWritable&gt;
        &lt;/directoryParameter&gt;
</pre></td></tr></table>

<h2>Boolean Parameter</h2>
<p>Boolean parameters are identical to string parameters, only that they take a boolean value.</p>
<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
    &lt;booleanParameter&gt;
      &lt;name&gt;createdb&lt;/name&gt;
      &lt;ask&gt;yes&lt;/ask&gt;
      &lt;default&gt;1&lt;/default&gt;
      &lt;title&gt;Database Install&lt;/title&gt;
      &lt;explanation&gt;Should initial database structure and data be created?&lt;/explanation&gt;
      &lt;value&gt;1&lt;/value&gt;
    &lt;/booleanParameter&gt;
</pre></td></tr></table>

<h2>Text Display Parameter</h2>
<p>This parameter will display a read-only text information page. It does not support the <b>ask</b> or <b>cliOptionName</b> fields</p>
<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
    &lt;infoParameter&gt;
      &lt;name&gt;serverinfo&lt;/name&gt;
      &lt;title&gt;Web Server&lt;/title&gt;
      &lt;explanation&gt;Web Server Settings&lt;/explanation&gt;
      &lt;value&gt;Important Information! In the following screen you will be asked to provide (...)&lt;/value&gt;
    &lt;/infoParameter&gt;
</pre></td></tr></table>

<h2>Choice Parameter</h2>
<p>A choice parameter allows the user to select a value among a predefined list. In GUI mode, it will be represented by a combobox. It takes an
extra field, <b>optionList</b>, which contains a list of value/text pairs. The <b>text</b> will be the description presented to the
user for that option and the <b>value</b> will be the value of the associated installer variable if the user selects that option</p>
<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
 &lt;choiceParameter&gt;
      &lt;ask&gt;1&lt;/ask&gt;
      &lt;default&gt;http&lt;/default&gt;
      &lt;description&gt;Which protocol?&lt;/description&gt;
      &lt;explanation&gt;Default protocol to access the login page.&lt;/explanation&gt;
      &lt;title&gt;Protocol Selection&lt;/title&gt;
      &lt;name&gt;protocol&lt;/name&gt;
      &lt;optionList&gt;
        &lt;option&gt;
          &lt;value&gt;http&lt;/value&gt;
          &lt;text&gt;HTTP (insecure)&lt;/text&gt;
        &lt;/option&gt;
        &lt;option&gt;
          &lt;value&gt;https&lt;/value&gt;
          &lt;text&gt;HTTPS (secure)&lt;/text&gt;
        &lt;/option&gt;
      &lt;/optionList&gt;
 &lt;/choiceParameter&gt;
</pre></td></tr></table>

<h2>Password Parameter</h2>
<p>A password parameter allows the user to input a password and confirm it. The password will
not be echoed back to the user in text mode installations and will be substituted by '*' characters
in GUI mode installations. The user needs to retype the password and if the entries do
not match, an error will be displayed.</p>

<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
      &lt;passwordParameter&gt;
        &lt;ask&gt;yes&lt;/ask&gt;
        &lt;name&gt;masterpassword&lt;/name&gt;
        &lt;description&gt;Password&lt;/description&gt;
        &lt;descriptionRetype&gt;Retype password&lt;/descriptionRetype&gt;
        &lt;explanation&gt;Please provide a password for the database user&lt;/explanation&gt;
        &lt;cliOptionName&gt;password&lt;/cliOptionName&gt;
        &lt;default/&gt;
        &lt;value/&gt;
      &lt;/passwordParameter&gt;
</pre></td></tr></table>


<h2>Group Parameter</h2>
<p>A group parameter allows you to logically group other parameters. They
will be presented in the same screen on GUI and text installers. You need to
place the grouped parameters in a parameterList section, as shown in the
example. Please note that parameter groups also need to contain a
&lt;name&gt; tag. 
</p>

<p>Example:</p>
<table border="0" bgcolor="fffaf0"><tr border="0"><td border="0"><pre>
   &lt;parameterGroup&gt;
     &lt;name&gt;userandpass&lt;/name&gt;
     &lt;explanation&gt;Please enter the username and password for your database.&lt;/explanation&gt;
     &lt;parameterList&gt;
     &lt;stringParameter&gt;
        &lt;name&gt;username&lt;/name&gt;
        &lt;default&gt;admin&lt;/default&gt;
        &lt;description&gt;Username&lt;/description&gt;
      &lt;/stringParameter&gt;     
      &lt;passwordParameter&gt;
        &lt;ask&gt;yes&lt;/ask&gt;
        &lt;name&gt;masterpass&lt;/name&gt;
        &lt;description&gt;Password&lt;/description&gt;
        &lt;descriptionRetype&gt;Retype password&lt;/descriptionRetype&gt;
        &lt;explanation&gt;Please provide a password for the database user&lt;/explanation&gt;
        &lt;cliOptionName&gt;password&lt;/cliOptionName&gt;
      &lt;/passwordParameter&gt;
      &lt;/parameterList&gt;      
   &lt;/parameterGroup&gt;      
</pre></td></tr></table>

</div>
  </td></tr>
</table>
</td></tr>
</table>
</center>
</div>
</body>
    