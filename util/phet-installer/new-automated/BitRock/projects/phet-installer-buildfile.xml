<project>
    <shortName>PhET</shortName>
    <fullName>PhET</fullName>
    <version>$VERSION$</version>
    <installerFilename>${product_shortname}-${product_version}-${platform_name}-installer.${platform_exec_suffix}</installerFilename>
    <readmeFile>../../Installer-Resources/Install-Path/${platform_name}/readme.txt</readmeFile>
    <licenseFile>../../Installer-Resources/Install-Path/license.txt</licenseFile>
    <wrapLicenseFileText>1</wrapLicenseFileText>
    <leftImage></leftImage>
    <logoImage>../../Installer-Resources/Install-Path/Phet-logo-48x48.gif</logoImage>
    <splashImage></splashImage>
    <defaultLanguage>en</defaultLanguage>
    <allowLanguageSelection>0</allowLanguageSelection>
    <postInstallationScript></postInstallationScript>
    <postInstallationScriptArguments></postInstallationScriptArguments>
    <preUninstallationScript></preUninstallationScript>
    <preUninstallationScriptArguments></preUninstallationScriptArguments>
    <allowedLanguages></allowedLanguages>
    <cdromPlatforms></cdromPlatforms>
    <defaultInstallationMode></defaultInstallationMode>
    <defaultUnixDirectoryPermissions>755</defaultUnixDirectoryPermissions>
    <defaultUnixFilePermissions>644</defaultUnixFilePermissions>
    <description>The PhET Website Mirror</description>
    <outputDirectory>${installbuilder_install_root}/output</outputDirectory>
    <projectSchemaVersion>1.2</projectSchemaVersion>
    <saveRelativePaths>1</saveRelativePaths>
    <slideShowLoop>1</slideShowLoop>
    <slideShowTiming>5</slideShowTiming>
    <startMenuGroupName>${product_fullname}</startMenuGroupName>
    <style>standard</style>
    <summary>The PhET Website Mirror is an offline copy of the PhET website, containing all the simulations on the website.</summary>
    <uninstallerDirectory>${installdir}</uninstallerDirectory>
    <uninstallerName></uninstallerName>
    <validatorProgram></validatorProgram>
    <vendor>PhET</vendor>
    <componentList>
        <component>
            <name>default</name>
            <description>Default Component</description>
            <canBeEdited>1</canBeEdited>
            <detailedDescription></detailedDescription>
            <selected>1</selected>
            <show>1</show>
            <componentSelectionValidationActionList/>
            <desktopShortcutList>
                <fileShortcut>
                     <comment>Launches local mirror of the PhET website.</comment>
                     <filePath>${installdir}/new/index.html</filePath>
                     <icon>${installdir}/Phet-logo-48x48.gif</icon>
                     <name>PhET Simulations</name>
                     <platforms>windows</platforms>
                     <runInTerminal>0</runInTerminal>
                     <windowsIcon>${installdir}/Phet-logo-48x48.ico</windowsIcon>
                </fileShortcut>
            </desktopShortcutList>
            <folderList>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfiles</name>
                    <platforms>all</platforms>
                    <distributionFileList>
                        <distributionDirectory>
                            <origin>../../temp/website/phet.colorado.edu/new</origin>
                        </distributionDirectory>
                        <distributionDirectory>
                            <origin>../../temp/website/phet.colorado.edu/sims</origin>
                        </distributionDirectory>
                        <distributionDirectory>
                            <origin>../../temp/website/phet.colorado.edu/physics</origin>
                        </distributionDirectory>
                        <distributionDirectory>
                            <origin>../../temp/website/phet.colorado.edu/Design</origin>
                        </distributionDirectory>
                        <distributionFile>
                            <origin>../../Installer-Resources/Install-Path/Phet-logo-48x48.gif</origin>
                        </distributionFile>
                        <distributionFile>
                            <origin>../../Installer-Resources/Install-Path/Phet-logo-48x48.ico</origin>
                        </distributionFile>
                    </distributionFileList>
                    <shortcutList>
                        <shortcut>
                            <comment>Uninstall</comment>
                            <exec>${installdir}/${uninstallerName}</exec>
                            <icon></icon>
                            <name>Uninstall ${product_fullname}</name>
                            <path>${installdir}</path>
                            <platforms>all</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsExec>${installdir}/${uninstallerName}.exe</windowsExec>
                            <windowsExecArgs></windowsExecArgs>
                            <windowsIcon></windowsIcon>
                            <windowsPath>${installdir}</windowsPath>
                        </shortcut>
                        <fileShortcut>
                            <comment>Launches the local mirror of the PhET website, containing all the PhET simulations.</comment>
                            <filePath>${installdir}/new/index.html</filePath>
                            <icon>${installdir}/Phet-logo-48x48.gif</icon>
                            <name>PhET Simulations</name>
                            <platforms>all</platforms>
                            <runInTerminal>0</runInTerminal>
                            <windowsIcon>${installdir}/Phet-logo-48x48.ico</windowsIcon>
                        </fileShortcut>
                    </shortcutList>

                    <actionList>
                        <substitute>
                            <files>*/*.jnlp</files>
                            <substitutionList>
                                <substitution>
                                    <pattern>@@INSTALLDIR@@</pattern>
                                    <value>${installdir}</value>
                                </substitution>
                            </substitutionList>
                       </substitute>
                    </actionList>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileslinux</name>
                    <platforms>linux</platforms>
                </folder>
                <folder>
                    <description>Program Files</description>
                    <destination>${installdir}</destination>
                    <name>programfileswindows</name>
                    <platforms>windows</platforms>
                    <distributionFileList>
                        <distributionFile>
                            <origin>../../Installer-Resources/Install-Path/jre-windows.exe</origin>
                        </distributionFile>
                    </distributionFileList>
                </folder>
            </folderList>
            <initializationActionList/>
            <postInstallationActionList/>
            <postUninstallationActionList/>
            <readyToInstallActionList/>
            <startMenuShortcutList>
                <startMenuShortcut>
                    <comment>Uninstall ${product_fullname}</comment>
                    <name>Uninstall ${product_fullname}</name>
                    <runInTerminal>0</runInTerminal>
                    <windowsExec>${installdir}/uninstall.exe</windowsExec>
                    <windowsExecArgs></windowsExecArgs>
                    <windowsIcon></windowsIcon>
                    <windowsPath>${installdir}/</windowsPath>
                </startMenuShortcut>
                <startMenuFileShortcut>
                    <comment>Launches the local mirror of the PhET website, containing all the PhET simulations.</comment>
                    <filePath>${installdir}/new/index.html</filePath>
                    <name>PhET Simulations</name>
                    <runInTerminal>0</runInTerminal>
                    <windowsIcon>${installdir}/Phet-logo-48x48.ico</windowsIcon>
                </startMenuFileShortcut>
            </startMenuShortcutList>
        </component>
    </componentList>
    <customLanguageFileList/>
    <fileList/>
    <finalPageActionList/>
    <initializationActionList/>
    <installationAbortedActionList/>
    <parameterList>
        <directoryParameter>
            <name>installdir</name>
            <title></title>
            <description>Installer.Parameter.installdir.description</description>
            <explanation>Installer.Parameter.installdir.explanation</explanation>
            <value>${platform_install_prefix}/${product_shortname}-${product_version}</value>
            <default>${platform_install_prefix}/${product_shortname}-${product_version}</default>
            <allowEmptyValue>0</allowEmptyValue>
            <ask>yes</ask>
            <cliOptionName>prefix</cliOptionName>
            <cliOptionText></cliOptionText>
            <mustBeWritable>yes</mustBeWritable>
            <mustExist>0</mustExist>
            <width>40</width>
        </directoryParameter>
    </parameterList>
    <platformOptionsList/>
    <postInstallationActionList>
        <!--Detect Java, but don't abort on error (yet) -->
        <autodetectJava>
            <promptUser>0</promptUser>
            <validVersionList>
                <validVersion>
                    <maxVersion></maxVersion>
                    <minVersion>1.4.2</minVersion>
                    <vendor></vendor>
                </validVersion>
            </validVersionList>
            <abortOnError>0</abortOnError>
        </autodetectJava>
        
        <actionGroup>
            <actionList>          
                 <runProgram>
                     <program>${installdir}/jre-windows.exe</program>
                 </runProgram>
            </actionList>
            
             <ruleList>
                 <platformTest>
                     <type>windows</type>
                 </platformTest>

                 <fileTest>
                     <path>${java_executable}</path>
                     <condition>not_exists</condition>
                 </fileTest>
              </ruleList>
        </actionGroup>
        
        <!-- Detect Java again; this time ABORT on error: -->
        <autodetectJava>
            <promptUser>0</promptUser>
            <validVersionList>
                <validVersion>
                    <maxVersion></maxVersion>
                    <minVersion>1.4.2</minVersion>
                    <vendor></vendor>
                </validVersion>
            </validVersionList>
            <abortOnError>1</abortOnError>
        </autodetectJava>
    </postInstallationActionList>
    <postUninstallationActionList/>
    <preBuildActionList/>
    <preInstallationActionList/>
    <preUninstallationActionList/>
    <readyToInstallActionList/>
    <slideShowImageList/>
</project>

