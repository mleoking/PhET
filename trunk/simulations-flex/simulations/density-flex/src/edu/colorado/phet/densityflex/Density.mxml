<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:cmp="edu.colorado.phet.densityflex.*"
                layout="absolute" width="100%" height="100%" applicationComplete="tab1.init()"
                preinitialize="init()">
    <mx:TabNavigator width="100%" height="100%" change="onSwitch(event)">
        <mx:Canvas label="Tab 1">
            <cmp:DensityView3D width="100%" height="100%" id="tab1"/>
            <mx:Panel right="20" y="100">
                <mx:RadioButton groupName="massVol" id="sameMass" label="Objects of same mass" selected="true"
                                click="tab1.switchToSameMass()"/>
                <mx:RadioButton groupName="massVol" id="sameVolume" label="Objects of same volume"
                                click="tab1.switchToSameVolume()"/>
            </mx:Panel>
        </mx:Canvas>
        <mx:VBox label="Tab 2">

        </mx:VBox>
        <mx:VBox label="Tab 3">

        </mx:VBox>
    </mx:TabNavigator>
    <cmp:DebugText id="debug" height="100" x="0" y="0" text="" color="#FFFFFF" click="DebugText.clear();"/>
    <mx:Script><![CDATA[
        import flash.ui.ContextMenu;

        import mx.core.Application;

        private var oldIndex : Number = 0;

        private function init() : void {
            var menu : ContextMenu = new ContextMenu();

            menu.builtInItems.zoom = true;

            Application.application.contextMenu = menu;

            trace("Test Debugging message");
        }

        private function onSwitch( e : Event ) : void {
            var newIndex : Number = e.currentTarget.selectedIndex;
            if ( oldIndex == newIndex ) {
                return;
            }
            
            if ( oldIndex == 0 ) {
                tab1.pause();
            }
            if ( newIndex == 0 ) {
                tab1.start();
            }
            
            oldIndex = newIndex;
        }


        ]]></mx:Script>
</mx:Application>
        <!--<?xml version="1.0"?>-->
        <!--<mx:Application-->
        <!--xmlns:mx="http://www.adobe.com/2006/mxml"-->
        <!--layout="absolute"-->
        <!--xmlns:cmp="edu.colorado.phet.densityflex.*"-->
        <!--xmlns:common="edu.colorado.phet.flexcommon.*"-->
        <!-->-->
        <!--<mx:Script source="Test.as"/>-->
        <!--<cmp:Test id="app"/>-->

        <!--<mx:Button id="addPlusChargeButton" label="Add +" height="20" x="0" y="20" click="app.addPlusCharge()"/>-->
        <!--<mx:Button id="addMinusChargeButton" label="Add -" height="20" x="0" y="40" click="app.addMinusCharge()"/>-->
        <!--<mx:Button id="add20Button" label="Add 20" height="20" x="0" y="60" click="app.add20()"/>-->
        <!--<mx:Button id="clearButton" label="Clear" height="20" x="0" y="80" click="app.display.clearCharges()"/>-->
        <!--<mx:Label id="fps" text="{app.display.mosaic.fps}" x="0" y="480"/>-->
        <!--<mx:HSlider id="stepSlider" tickInterval="1" snapInterval="1" x="400" y="0" width="300"-->
        <!--value="{app.display.mosaic.step}" minimum="3" maximum="50"-->
        <!--change="app.display.mosaic.changeStepSize(event)"/>-->
        <!--<mx:Text text="{Math.round(stepSlider.value)}" x="700" y="0" height="20"/>-->
        <!--<mx:VSlider id="kSlider" x="0" y="200" value="{Model.kScaled}" minimum="8" maximum="15"-->
        <!--change="app.display.setKScaled(event)"/>-->

        <!--<common:FlexCommonMXML id="flexcommon" x="0" y="0" />-->
        <!--</mx:Application>-->