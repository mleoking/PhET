<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>13. Running the Installer</title><link rel="stylesheet" href="docbook-xsl.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.75.2" /><link rel="home" href="index.html" title="BitRock InstallBuilder User Guide 8" /><link rel="up" href="index.html" title="BitRock InstallBuilder User Guide 8" /><link rel="prev" href="ar01s12.html" title="12. Installer Customization" /><link rel="next" href="ar01s14.html" title="14. Uninstaller" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">13. Running the Installer</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s12.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s14.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr></table><hr /></div><div class="section" title="13. Running the Installer"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_running_the_installer"></a>13. Running the Installer</h2></div></div></div><p>You can run an installer either by invoking it from the command line or double-clicking it from your desktop environment. On Linux and other Unix environments, the only requirement is that the file must have executable permissions, which it has by default when it is created. Sometimes those permissions can be lost, such as when downloading an installer from a website. In that case you can restore the executable permissions with:</p><pre class="literallayout">chmod u+x installbuilder-professional-8.5.0-linux-installer.run</pre><p>Because the generated OS X installers are regular .app applications, they contain a directory structure and you will need to add them to a zip file or disk image for distribution over the web. On OS X, when a user downloads a zip file containing an application, it will automatically be unpacked and the user will be prompted to launch it.</p><p>On Windows, the installer runs graphically with a native look and feel or it can be invoked in unattended mode (see below). On Mac OS X, the installer runs with the native Aqua look and feel and can also be run in text and unattended modes. On Linux and other supported Unix systems, there are multiple installation modes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>GTK</strong></span>: This is a native installation mode based on the GTK 2.0 toolkit. The GTK libraries must be present on the system (they are installed by default in most Linux distributions). This is the default installation mode. If the GTK libraries are not available, the X-Window installation mode will automatically be used instead. The GTK mode is available on Linux and Linux x64 only.
</li><li class="listitem">
<span class="strong"><strong>Qt</strong></span>: This is a native installation mode based on Qt. The Qt libraries are compiled into the installer, so it is not necessary for them to be present on the end-user system. This mode is only available on Linux, Windows and Mac OS X when using the InstallBuilder for Qt product.
</li><li class="listitem">
<span class="strong"><strong>X-Window</strong></span>: This is a self-contained installation mode that has no external dependencies. It will be started when neither the GTK nor the Qt mode is available. It can also be explicitly requested with the <code class="literal">--mode xwindow</code> command line switch.
</li><li class="listitem">
<span class="strong"><strong>Command line</strong></span>: Designed for remote installations or installation on servers without a GUI environment. This installation mode is started by default when a GUI is not available or by passing the <code class="literal">--mode text</code> command line option to the  installer.
</li><li class="listitem">
<span class="strong"><strong>Unattended Installation</strong></span>: It is possible to perform unattended or silent installations using the <code class="literal">--mode unattended</code> command line option. This is useful for automating installations or for inclusion in shell scripts, as part of larger installation processes.
</li></ul></div><div class="section" title="13.1. Requiring Administrator Privileges"><div class="titlepage"><div><div><h3 class="title"><a id="_requiring_administrator_privileges"></a>13.1. Requiring Administrator Privileges</h3></div></div></div><p>You can require administrator privileges in your installer by using the <a class="link" href="apd.html#requireInstallationByRootUser"><code class="literal">&lt;requireInstallationByRootUser&gt;</code></a> tag:</p><p><a id="snip8448421"></a></p><pre class="programlisting">  &lt;project&gt;
    ...
    &lt;requireInstallationByRootUser&gt;1&lt;/requireInstallationByRootUser&gt;
    ...
  &lt;/project&gt;</pre><p>This will require the end user to have root privileges on Unix platforms (possibly using <span class="emphasis"><em>sudo</em></span> to invoke the installer) or Administrator privileges on Windows. If the user does not
have the appropriate privileges, an error will be displayed and the installer will exit. In the case of OS X, the user will be prompted with an Admin password dialog to raise its privileges.</p><p>Once running, you can check whether the installer is running as administrator by checking the <code class="literal">${installer_is_root_install}</code> built-in variable:</p><p><a id="snip2616517"></a></p><pre class="programlisting">&lt;showText text="You are not administrator!"&gt;
  &lt;ruleList&gt;
    &lt;isFalse value="${installer_is_root_install}"/&gt;
  &lt;/ruleList&gt;
&lt;/showText&gt;</pre><p>When running on the latest Windows versions (Vista and newer), if the UAC is enabled, the installer will be forced to be executed as Administrator by default, regardless of the value of the <a class="link" href="apd.html#requireInstallationByRootUser"><code class="literal">&lt;requireInstallationByRootUser&gt;</code></a> tag. This behavior is forced by the OS but can be also configured in the project using the <a class="link" href="apd.html#requestedExecutionLevel"><code class="literal">&lt;requestedExecutionLevel&gt;</code></a> tag:</p><p><a id="snip5807874"></a></p><pre class="programlisting">&lt;project&gt;
   ...
   &lt;requestedExecutionLevel&gt;requireAdministrator&lt;/requestedExecutionLevel&gt;
   ...
&lt;/project&gt;</pre><p>The allowed values for this setting are:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong>requireAdministrator</strong></span> - Require administrator: This is the default value and forces the installer to be executed as an administrator user. All users are forced to introduce valid administrator credentials.
</li><li class="listitem">
<span class="strong"><strong>asInvoker</strong></span> - As invoker: This setting allows the installer to execute with the current privileges level. Any user can run the installer without the UAC requesting his credentials.
</li><li class="listitem">
<span class="strong"><strong>highestAvailable</strong></span> - Highest available: This setting makes the application to run with the highest privileges the user executing it can obtain. A regular user won’t be prompted for credentials (as it cannot raise its privileges) but a member of the Administrators group will be prompted.
</li></ul></div><p>Under these circumstances, if want you installer to do not require administrator privileges, you should configure the settings below in your project:</p><p><a id="snip2947797"></a></p><pre class="programlisting">&lt;project&gt;
   ...
    &lt;requireInstallationByRootUser&gt;0&lt;/requireInstallationByRootUser&gt;
   &lt;requestedExecutionLevel&gt;asInvoker&lt;/requestedExecutionLevel&gt;
   ...
&lt;/project&gt;</pre></div><div class="section" title="13.2. Multiple Instances of the Installer"><div class="titlepage"><div><div><h3 class="title"><a id="_multiple_instances_of_the_installer"></a>13.2. Multiple Instances of the Installer</h3></div></div></div><p>Sometimes users accidentally launch multiple instances of the installer. In most cases this is not an issue, but if this is an issue for you, you can
prevent users from launching the installer multiple times by enabling the <a class="link" href="apb.html#singleInstanceCheck"><code class="literal">&lt;singleInstanceCheck&gt;</code></a> project property:</p><p><a id="snip3624396"></a></p><pre class="programlisting">  &lt;project&gt;
    ...
    &lt;singleInstanceCheck&gt;1&lt;/singleInstanceCheck&gt;
    ...
  &lt;/project&gt;</pre><p>If the installer is launched a second time while it is still running, it will display a pop-up dialog asking whether or not to continue with the installation.</p><p>If you want to prevent more than one instance of the installer from running without giving the choice to the user, you could use the <a class="link" href="apb.html#singleInstanceCheck"><code class="literal">&lt;singleInstanceCheck&gt;</code></a> rule and throw an error:</p><p><a id="snip5236405"></a></p><pre class="programlisting">&lt;preInstallationActionList&gt;
  &lt;throwError&gt;
     &lt;text&gt;Another instance is running. This instance will abort&lt;/text&gt;
     &lt;ruleList&gt;
         &lt;singleInstanceCheck logic="is_running" /&gt;
     &lt;/ruleList&gt;
  &lt;/throwError&gt;
&lt;/preInstallationActionList&gt;</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s12.html"><img src="images/icons/prev.png" alt="Prev" /></a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s14.html"><img src="images/icons/next.png" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top">12. Installer Customization </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/icons/home.png" alt="Home" /></a></td><td width="40%" align="right" valign="top"> 14. Uninstaller</td></tr></table></div></body></html>
