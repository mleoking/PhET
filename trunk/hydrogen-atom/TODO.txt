===============================================================================
"To Do" list for "The Hydrogen Atom" simulation          $Revision$
===============================================================================

IN PROGRESS:

HIGH PRIORITY:
- flesh out Bohr model
- add dialog displaying spectral line table to menubar
- performance of Bohr degraded when I added absorb/emit code

MEDIUM PRIORITY:
- RandomUtils shouldn't share the same random number generator (in Math) for all methods
- stimulated emission for Bohr model
- add "show traces" feature for alpha particles
- change how particle production rate is specificed, number in box should range from 1-N based on intensity
- implement DeBroglie model
- implement Schrodinger model
- implement Experiment model (particles should go behind black box)
- finish spectrometer interface (ticks/labels, compressed UV/IR ranges, layout fixes, setSize method, Java2D to draw interior)
- implement spectrometer model
- implement energy diagrams, reuse Ron's stuff
- "atom destroyed" message for Solar System model
- "atom ionized" message and electron flying in/out for Plum Pudding, Bohr, deBroglie, Schrodinger models
- clear spectrometer when atomic model is changed
- ignore spectral line table entries with node>6
- handle model-view transform differently?
- replace AtomicModelSelection.getSelectionName

LOW PRIORITY:
- add WavelengthControl.setTrackSize(Dimension)
- add WavelengthControl.setKnobSize(Dimension)
- size "UV" and "IR" labels to fit WavelengthControl track height
- make panel spacing and canvas spacing configurable via SimStrings file
- generate spectrum instead of using an image file
- ArrayIndexOutOfBoundsException in CursorHandler when you drag the cursor outside the play area, then back inside
- animate opening/closing of Atomic Model selection panel
- bug: spectrometer buttons are fully transparent on Win98
- generalize creating a "panel" node to fit under a collection of nodes
- design code to accommodate zoom controls on animation region (possible feature)
- verify that behavior is correct when clock is paused
- does it make sense to have continuous intensity control if #photons in box ranges from 1-10 ?
- handle Photon orientation in PhotonNode
- fix problem with updating drag bounds of ConstrainedDragHandler, as used in WavelengthControl
- create layout nodes for creating Piccolo-based control panels
- rewrite AtomicModelSelector to use inner classes, or layout node
- update images on atom model selector buttons

DONE:
(11/10/06) - first pass at photon absorb/emit in Bohr
(11/10/06) - reorg photon absorption code in PlumPuddingModel to be similar to BohrModel
(11/10/06) - reduce radii of Bohr orbits 2-6 so that 6th orbit's dashed line fits fully in box
(11/10/06) - make PlumPuddingNode automatically scale its image to match the model's radius
(11/10/06) - reduce billiard ball and plum pudding radii to 30
(11/10/06) - tried to make plum pudding look like "red cotton candy" but failed, asked for example
(11/9/06) - used canned values provide by Sam McKagan for Bohr orbit radii, don't compute
(11/9/06) - start Bohr electron at a random angle
(11/9/06) - remove ability to change animation box size from SimString file, too many things depend on its value
(11/9/06) - constrain animation box to be square
(11/9/06) - read animation box size from config file only in HAConstants
(11/9/06) - reduce radius of plum pudding
(11/9/06) - reduce radius of billiard ball
(11/9/06) - add collided flag to Photon to prevent it from getting stuck inside the billiard ball
(11/9/06) - don't remove all particles when switch the type of the gun
(11/9/06) - fix "closeness" deflection workaround on left side of plum pudding atom
(11/8/06) - add adhoc state change to Bohr absorb/emit, for testing electron motion
(11/8/06) - add electron motion to Bohr model
***** CVS tag hydrogenatom-0-00-08-2006-11-08
(11/8/06) - add Rutherford scattering to Schrodinger model
(11/8/06) - add workaround for alpha particles that get stuck in center of plum pudding
(11/8/06) - move all code related to D out of atom models and into RutherfordScattering class
(11/8/06) - Rutherford Scattering working, but particles get stuck at center of plum pudding atom
(11/8/06) - another attempt at Rutherford Scattering after Sam McKagan rewrote, still not working
(11/8/06) - remove model dependency that ground state = 1
(11/8/06) - remove model stuff from DeBroglieNode
(11/8/06) - move all PROPERTY constants to AbstractHydrogenAtom
(11/8/06) - DeBroglieModel extends BohrModel (they are identical, different visual representation)
(11/8/06) - move orbit and state stuff out of BohrNode and into BohrModel
(11/7/06) - add basic code for moving particles and absorbing/emitting photons to BohrModel
(11/7/06) - remove call to super.stepInTime in HAModel.stepInTime
(11/7/06) - give HAModel responsibility for moving particles
(11/7/06) - remove knowledge of atom from alpha particle model
(11/7/06) - add developer control for Rutherford Scattering debug output
(11/7/06) - add developer control for limiting the model to 1 particle (photon or alpha particle)
(11/7/06) - add extensive debug output to Rutherford Scattering
(11/7/06) - corrections to Rutherford Scattering, still doesn't work
(11/6/06) - first attempt at Rutherford Scattering of alpha particles (coded to spec), doesn't work
(11/6/06) - rearchitect model so that alpha particles move based on algorithm supplied by atom
(11/6/06) - make photons and alpha particles subclasses of MovingObject (mutable postion, orientation, speed)
(11/6/06) - make Gun and atoms subclasses of FixedObject (immutable position and orientation)
(11/4/06) - switchable between 3 different "looks" for UV/IR photons
***** CVS tag hydrogenatom-0-00-07-2006-11-04
(11/4/06) - remove UV/IR labels from photons, use colored crosshairs
***** CVS tag hydrogenatom-0-00-06-2006-11-03
(11/4/06) - make UV/IR photons switchable in legend (roll in)
(11/4/06) - make photon representations for UV/IR switchable (roll in)
(11/3/06) - increase probability of photon emission in plum pudding
(11/3/06) - reduce number of clock speeds, set default to a slower speed
(11/3/06) - remove UV and IR photons from legend
(11/3/06) - randomize the electron line in PlumPuddingModel
(11/3/06) - change oscillation line each time PlumPudding's electron starts oscillating
(11/3/06) - change plum pudding shape to a circle, in anticipation of Rutherford scattering
(11/3/06) - make plum pudding electron go through 1 full oscillation before emitting
(11/3/06) - after photon emission, make plum pudding electron complete its oscillation and stop at (0,0)
(11/3/06) - replace crosshairs with labels on UV and IR photons
(11/3/06) - add UV and IR photons to legend
(11/2/06) - plum pudding should absorb only 1 photon (try to continue supporting N)
(11/2/06) - remove support in model for multiple atoms (unnecessary complication)
(11/2/06) - add a slower clock speed, remove the fastest one
(11/2/06) - plum pudding should emit photons from electron location
(11/2/06) - plum pudding should absorb photons when they are "close" to electron
(11/2/06) - set UV photon crosshairs to violet
(11/2/06) - set IR photon crosshairs to red
(11/1/06) - change plum pudding image to be more elliptical
(11/1/06) - add debug code to PlumPuddingNode to show model's bounds
(11/1/06) - sync with phetcommon
(11/1/06) - pick a random point inside plum pudding shape from which to emit photon
(11/1/06) - change PlumPuddingModel shape to an ellipse
(11/1/06) - make HAModel a PhotoAbsorbedListener and PhotonEmittedListener of its atom
(11/1/06) - make HAModel a GunFiredListener and Observer of its gun
(11/1/06) - move photon and alphaParticle management out of Space and into HAModel
(11/1/06) - add _emitted flag to Photon, used to exclude emitted atoms from collision detection
(11/1/06) - sync with piccolo-phet
(10/31/06) - first pass at PlumbPuddingModel and electron animation in PlumPuddingNode
(10/31/06) - specify SolarSystemModel's electron position relative to atom's center
(10/31/06) - when SolarSystem atom is destroyed, replace proton & electron with "kaboom" image
(10/26/06) - implement SolarSystemModel
(10/26/06) - sync with phetcommon
***** CVS tag hydrogenatom-0-00-05-2006-10-25
(10/25/06) - javadoc
(10/25/06) - change BilliardBallNode to use shape instead of image file
(10/25/06) - implement collision detection and handling for BilliardBallModel
(10/25/06) - add collision detection interface to AbstractHydrogenAtom and HAModel
(10/25/06) - move default implementation of stepInTime (no-op) into AbstractHydrogenAtom
(10/25/06) - add model-view transform for distances
(10/24/06) - HAModel extends Model and keeps separate lists of atoms, photons, alpha particles
(10/24/06) - change model so that Model class is the only ClockListener, all other things are ModelElements
(10/23/06) - add notification mechanism to AbstractHydrogenAtom for absorbing/emitting photons
(10/23/06) - move all particle nodes to hydrogenatom.view.particle
(10/23/06) - move all atom nodes to hydrogenatom.view.atom
(10/23/06) - create atomic models dynamically in HAModule
(10/23/06) - node factories for all atomic models
(10/23/06) - stubs for all atomic models
(10/23/06) - put a box around '?' in ExperimentAtomNode
(10/23/06) - hack to workaroud problem with drag bounds of WavelengthControl not being updated
(10/22/06) - add developer control for varying number of ticks between firing of photons and alpha particles
(10/22/06) - create Developer Controls dialog
(10/22/06) - create menu and dialog packages
(10/22/06) - add enums for GunMode and LightType
(10/20/06) - added Developer menu to menu bar
(10/20/06) - add data/credits.html
(10/19/06) - change sim title to "Models of the Hydrogen Atom"
(10/5/06) - set default clock speed index = 2
(10/5/06) - attach wiggleme to gun's on/off button, remove wiggleme position from SimStrings
***** CVS tag hydrogenatom-0-00-04-2006-10-04
(10/4/06) - center align icons in Legend
(10/4/06) - don't reset the clock when sim speed is changed
(10/4/06) - add very kludgy ModelViewTransform, photons & alpha particles animating in atom box
(10/4/06) - implement Model
(10/4/06) - IModelObject marker interface for all objects that are part of the model
(10/4/06) - PhotonNodeFactory for creating pnodes for photon model elements
(10/4/06) - steal ModelViewManager concepts from molecular-reactions sim
(10/4/06) - add public interface for creating Image to PhotonNode and AlphaParticleNode
(10/4/06) - make AlphaParticleNode observer of AlphaParticle
(10/4/06) - make PhotonNode observer of Photon
(10/3/06) - change model to use radians (instead of degrees) for direction and orientation
(10/3/06) - add DebugUtils for looking at Photon and AlphaParticle properties
(10/3/06) - model Space that things move in and interact in
(10/3/06) - generate random start location for photons and alpha particles along nozzle of gun
(10/3/06) - use intensity to determine number of photons and alpha particles fired
(10/3/06) - generate random wavelengths when creating photons for white light
(10/3/06) - add wavelength range to Gun model
(10/3/06) - make GunControlPanel a ChangeListener of its subpanels, set Gun properties
(10/3/06) - make GunControlPanel an Observer of Gun, set subpanels
(10/3/06) - fix Gun subpanels so that the ChangeEvent source is the subpanel, not the individual JComponents
(10/3/06) - add lightType property to Gun
(10/2/06) - make GunNode and BeamNode observers of Gun model
(10/2/06) - change PhotonGun to "Gun" and make it capable of firing alpha particles, too
(10/2/06) - config wiggle me's position in SimStrings file
(10/2/06) - add a wiggle me to the gun on/off button
(10/2/06) - remove all specific default for font sizes from HAConstants, rely on SimStrings
(10/2/06) - use bold for all text, specify as HAConstants.DEFAULT_FONT_STYLE
(10/2/06) - lighten blue electron, increase size by 1 pixel
(10/2/06) - check how photon looks with UV color (good)
(10/2/06) - change magenta photons in GunTypeControl and LegendPanel to some visible color (green)
(9/27/06) - add StationaryObject, MovingObject, Photon, AlphaParticle, PhotonGun to model
(9/27/06) - delete photon image and asset files
(9/27/06) - revise photon look based on feedback
***** CVS tag hydrogenatom-0-00-03-2006-09-27
(9/27/06) - convert some shape-based nodes to images for performance
(9/27/06) - write "orb of light" photon in Java 2D
***** CVS tag hydrogenatom-0-00-02-2006-09-26
(9/26/06) - try using new photon image
(9/26/06) - add an electron to the energy diagrams
(9/26/06) - encapsulate "Drawings are not to scale" in its own class
(9/26/06) - distort orbits so that 6 orbits fit in animation region
(9/26/06) - factor common code out of Bohr and deBroglie nodes
(9/26/06) - update Spanish translations to include new stuff
(9/26/06) - add a legend to both play area and Help menu
(9/26/06) - add SimStrings.getChar, use it to get menu item mnemonics
(9/25/06) - darken gun type panel background
(9/25/06) - lighten Spectrometer snapshot panels
(9/25/06) - add Options menu to menubar, with "deBroglie wave view" choices
(9/25/06) - change gun control panel color to match purple gun
(9/25/06) - lighten ModeSwitch and AtomicModelSelector panels
(9/25/06) - shorten the horizontal lines on ModeSwitch
(9/25/06) - delete electron, proton and alphaParticle image files
(9/25/06) - generate Swing icons using ProtonNode and AlphaParticleNode
(9/25/06) - collapse ProtonNode, NeutronNode, ElectronNode into one superclass
(9/25/06) - create proton, neutron, electron images programmatically
(9/25/06) - create RoundGradientPaint
(9/22/06) - add separate resources for ModeSwitch big and small font size
(9/22/06) - vertically center labels in AtomicModelSelector's continuum subpanel
(9/22/06) - PSwing changes with Sam Reid to resolve problem with drawing transparent JComponents
***** CVS tag hydrogenatom-0-00-01-2006-09-21
(9/21/06) - Sam McKagan requested that I start publishing dev versions
***** CVS tag hydrogenatom-sandbox-2006-09-20
(9/20/06) - bugfix: couldn't drag spectrometer snapshots (pickable was set to false)
(9/20/06) - make all font sizes configurable via SimStrings file
(9/20/06) - configure animation region size in SimStrings file
(9/20/06) - major work on canvas layout code
(9/20/06) - move some constants out of module and into HAConstants
(9/20/06) - cleanup module code
(9/20/06) - use one node to draw animation box and perform clipping
(9/19/06) - add "view" representation of photon and alpha particle
(9/19/06) - added "view" representations of each atomic model, no animation
(9/19/06) - set pickable flag = false for all non-interactive nodes and their children
(9/19/06) - combine gun on/off control into GunNode
(9/19/06) - make gun nozzle smaller
***** CVS tag hydrogenatom-sandbox-2006-09-19
(9/19/06) - bugfix: beam should be white when "white" light type is selected
(9/19/06) - make beam straight, no fan-out
(9/18/06) - show a zoomed-in view of a little section of the box of hydrogen
(9/18/06) - delete BlackBox
(9/18/06) - make gun shoots a beam, color is white or monochromatic color (for light), or gray (for alpha particle)
(9/18/06) - point gun up at a 3D box of hydrogen
(9/18/06) - test harness for WavelengthControl
(9/18/06) - lots of fixes/enhancements to WavelengthControl
(9/18/06) - change UV and IR label on wavelength control, center them in their area (SM request)
(9/14/06) - change canvas background to black
(9/14/06) - move spectrometer checkbox above right of spectrometer
***** CVS tag hydrogenatom-sandbox-2006-09-14
(9/14/06) - translate to Spanish and test layout
(9/14/06) - change size and color of spectrometer image so it doesn't look the control panels
(9/14/06) - separate gun control panel out of GunNode
(9/14/06) - redo gun control panel, integrate gun type control, add sexy background
(9/14/06) - move spectrometer close button to upper left corner (ala Windows)
(9/14/06) - canvas layout tweaks
(9/13/06) - add close button to spectrometer, put "Show" button behind spectrometer
(9/13/06) - tweak canvas layout
(9/13/06) - make black box significantly larger
(9/13/06) - make energy diagrams slightly narrower
(9/13/06) - rewrite AtomicModelSelector, icon-based, vertical
(9/13/06) - change color of plum pudding to Color.RED to indicate positive charge (Sam McKagan's request)
(9/13/06) - redo mode switch to be more "fun"
(9/13/06) - change color of plum pudding to "plum" (0x993399)
(9/11/06) - add y-axis to energy diagram
(9/11/06) - bigger energy diagrams ala Discharge Lamps sim, draw placeholders using Java2D, delete images
(9/11/06) - create and manage spectrometers snapshots
(9/11/06) - title spectrometer snapshots with model name and snapshot#
(9/11/06) - title dynamic spectrometer with "Photons emitted"
(9/11/06) - add close icon to spectrometer snapshot
(9/11/06) - remove start/stop, reset, and camera buttons from spectrometer snapshot
(9/11/06) - new image for spectrometer, with title area
(9/11/06) - image for spectrometer close button
(9/11/06) - new gun on/off buttons
(9/8/06) - remove title from gun type control panel
(9/8/06) - implement module reset method for controls
(9/8/06) - refactor methods out of module into a controller class
(9/8/06) - make Piccolo graphic for black box using Java2D
(9/8/06) - make images for electron, neutron, billard ball, plum pudding
(9/7/06) - verified requirement that everything in the play area should resize when sim window is resized
(9/7/06) - bugfix: behavior of white and monochromatic radio buttons is reversed
(9/7/06) - discussed behavior of the various atomic models with Sam McKagan
(9/7/06) - replaced HANode with PhetPNode
(9/7/06) - fixed the way PhetPNode handles visibile and pickable flags
(9/6/06) - add placeholders for visual representation of atomic models
(9/6/06) - placeholder for spectrometer
(9/6/06) - extend PNode to handle pickable property in setVisible
(9/6/06) - add placeholder images for energy diagrams
(9/6/06) - add "Show electron energy level diagram" checkbox
(9/6/06) - add "Show spectrometer" checkbox
(9/6/06) - add "Drawings are not to scale" label
(9/6/06) - add atomic model selection control
(9/6/06) - add experiment/prediction mode switch
(9/6/06) - move contruction of control panels inside HAGunNode
(9/6/06) - hook up internal handlers in gun controls, to hide/show controls and set colors properly
(9/6/06) - add ability to set background/foreground color scheme for gun controls
(9/6/06) - rewrite gun control panels to be Piccolo nodes, not JPanels, so WavelengthControl can be added
(9/5/06) - click on wavelength control track to move to a value
(9/5/06) - bugfix: type a bogus value into wavelength control, it beeps but doesn't reset to previous value
(9/5/06) - clamp dragging of wavelength control to min/max range
(9/5/06) - test wavelength control with scale applied
(9/5/06) - enable range check for wavelength arg in WavelengthControl.setWavelength
(9/5/06) - fill wavelength control cursor with same color as knob
(9/5/06) - fix wavelength slider, cursor drags past minWavelength, can't reach maxWavelength (off by 3 nm)
(9/5/06) - integrate drag handling into wavelength control's ConstrainedDragHandler
(9/5/06) - consolidate/simplify UI update code for wavelength control
(9/5/06) - add cursor to wavelength control
(8/30/06) - move units outside textfield in wavelength control
(8/30/06) - set wavelength control range of 90-780 nm (far UV, no far IR)
(8/30/06) - WavelengthControl, a rewrite of spectrum slider for Piccolo
(8/29/06) - rewrite gun control panels
(8/29/06) - add "Gun Type" control (light or alpha particles)
(8/28/06) - continue fleshing out light gun controls
(8/25/06) - add control cable and control panel for gun
(8/25/06) - fix gun on/off button images
(8/25/06) - fix gun image
(8/24/06) - add basic gun graphic with on/off button
(8/24/06) - acquire gun image from QWI simulation, licensing cleared by Sam Reid
(8/24/06) - add custom clock control panel
(8/24/06) - create HAModule
(8/24/06) - create HAApplication
(8/10/06) - set up CVS commit notification
(8/10/06) - create JNLP and SimStrings files
(8/10/06) - set up project in CVS

REJECTED:
(11/7/06) - change global coordinate system so that atom is centered at the origin (not necessary, too destabilizing, code would not be general)
(11/6/06) - handle AlphaParticle orientation in AlphaParticleNode (not supported by Rutherford Scattering algorith, and Sam McKagan says not necessary)
(11/1/06) - use constructive geometry to create plum pudding shape that matches image file (approximate as an ellipse)
(10/5/06) - add zoom buttons to atom box so that it's supported (complicates implementation, unlikely feature)
(9/14/06) - design a gun control that shoots either one-shot or continuous (intensity controls do this)
(9/14/06) - delete intensity controls for gun (keep them)
(9/14/06) - configurable gun nozzle size, make it match height of black box (interface was changed)
(9/13/06) - bug: toggle buttons in atomic model selector get selected on mouseover, Windows, JDK 1.5.0_08 (got rid of toggle buttons)
(8/30/06) - port wavelength control from Photoelectric Effect sim (easier to rewrite)

===============================================================================
end of file