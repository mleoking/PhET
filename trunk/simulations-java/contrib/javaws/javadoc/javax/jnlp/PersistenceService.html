<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Frameset//EN""http://www.w3.org/TR/REC-html40/frameset.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Aug 30 13:53:45 PDT 2002 -->
<TITLE>
JNLP API Reference 1.0: Interface  PersistenceService
</TITLE>
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">
</HEAD>
<BODY BGCOLOR="white">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/jnlp/JNLPRandomAccessFile.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/jnlp/PrintService.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceService.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.jnlp</FONT>
<BR>
Interface  PersistenceService</H2>
<HR>
<DL>
<DT>public interface <B>PersistenceService</B></DL>

<P>
<code>PersistenceService</code> provides methods for storing data
 locally on the client system, even for applications that are running
 in the untrusted execution environment.  The service is somewhat
 similar to that which the cookie mechanism provides to HTML-based
 applications.
 <p>
 Each entry in the persistence data store is named with a URL.
 This provides a similar hierarchical structure as a traditional file
 system.
 <p>
 An application is only allowed to access data stored with a URL that
 is based on its codebase.  For example, given the codebase
 <code>http://www.mysite.com/apps/App1/</code>, the application
 would be allowed to access the data at the associated URLs:
 <ul>
    <li><code>http://www.mysite.com/apps/App1/</code>
    <li><code>http://www.mysite.com/apps/</code>
    <li><code>http://www.mysite.com/</code>
 </ul>
 <p>
 This scheme allows sharing of data between different applications from
 the same host.  For example, if another application is located at
 <code>http://www.mysite.com/apps/App2/</code>, then they can share data
 between them in the <code>http://www.mysite.com/</code> and
 <code>http://www.mysite.com/apps/</code> directories.
 <p>
 A JNLP client should track the amount of storage that a given
 application uses.  A <code>PersistenceService</code> implementation
 provides methods to get the current storage usage and limits and to
 request more storage. Storage is allocated on a per file basis, but a
 JNLP Client will typically grant or deny the request based on the total
 storage is use by an application.
 <p>
 Data stored using this mechanism is intended to be a local copy of
 data stored on a remote server.  The individual entries can be
 tagged as either <i>cached</i>, meaning the server has an up-to-date
 copy, <i>dirty</i>, meaning the server does not have an up-to-date
 copy, or <i>temporary</i>, meaning that the file can always be
 recreated.
<P>
<DL>
<DT><B>Version: </B><DD>1.0</DD>
</DL>
<HR>

<P>
<!-- ======== INNER CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#CACHED">CACHED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#DIRTY">DIRTY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#TEMPORARY">TEMPORARY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#create(java.net.URL, long)">create</A></B>(java.net.URL&nbsp;url,
       long&nbsp;maxsize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new persistent storage entry on the client side named with
 the given URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#delete(java.net.URL)">delete</A></B>(java.net.URL&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the stream associated with the given URL from the
 client-side date persistence store.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../javax/jnlp/FileContents.html">FileContents</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#get(java.net.URL)">get</A></B>(java.net.URL&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a <code>FileContents</code> object representing the contents
 of this file.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#getNames(java.net.URL)">getNames</A></B>(java.net.URL&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an array of Strings containing the names of all the
 entries for a given URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#getTag(java.net.URL)">getTag</A></B>(java.net.URL&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an <code>int</code> corresponding to the current value
 of the tag for the persistent data store entry associated with the
 given URL.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../javax/jnlp/PersistenceService.html#setTag(java.net.URL, int)">setTag</A></B>(java.net.URL&nbsp;url,
       int&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tags the persistent data store entry associated with the given URL
 with the given tag value.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CACHED"><!-- --></A><H3>
CACHED</H3>
<PRE>
public static final int <B>CACHED</B></PRE>
<DL>
</DL>
<HR>

<A NAME="TEMPORARY"><!-- --></A><H3>
TEMPORARY</H3>
<PRE>
public static final int <B>TEMPORARY</B></PRE>
<DL>
</DL>
<HR>

<A NAME="DIRTY"><!-- --></A><H3>
DIRTY</H3>
<PRE>
public static final int <B>DIRTY</B></PRE>
<DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="create(java.net.URL, long)"><!-- --></A><H3>
create</H3>
<PRE>
public long <B>create</B>(java.net.URL&nbsp;url,
                   long&nbsp;maxsize)
            throws java.net.MalformedURLException,
                   java.io.IOException</PRE>
<DL>
<DD>Creates a new persistent storage entry on the client side named with
 the given URL.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the name of the entry in the
                  persistent data store.<DD><CODE>maxsize</CODE> - maximum size of storage that can be written to this
                  entry.<DT><B>Returns:</B><DD>the maximum size of storage that got granted, in bytes.<DT><B>Throws:</B><DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.IOException - if an I/O exception occurs, or the entry already exists.</DL>
</DD>
</DL>
<HR>

<A NAME="get(java.net.URL)"><!-- --></A><H3>
get</H3>
<PRE>
public <A HREF="../../javax/jnlp/FileContents.html">FileContents</A> <B>get</B>(java.net.URL&nbsp;url)
                 throws java.net.MalformedURLException,
                        java.io.IOException,
                        java.io.FileNotFoundException</PRE>
<DL>
<DD>Returns a <code>FileContents</code> object representing the contents
 of this file.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the persistent data store entry.<DT><B>Returns:</B><DD>the file contents as a FileContents.<DT><B>Throws:</B><DD>java.io.IOException - if an I/O error occurs.<DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.FileNotFoundException - if a persistence store for the given URL
                               is not found.</DL>
</DD>
</DL>
<HR>

<A NAME="delete(java.net.URL)"><!-- --></A><H3>
delete</H3>
<PRE>
public void <B>delete</B>(java.net.URL&nbsp;url)
            throws java.net.MalformedURLException,
                   java.io.IOException</PRE>
<DL>
<DD>Removes the stream associated with the given URL from the
 client-side date persistence store.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the entry to delete from
                the persistent data store.<DT><B>Throws:</B><DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.IOException - if an I/O exception occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="getNames(java.net.URL)"><!-- --></A><H3>
getNames</H3>
<PRE>
public java.lang.String[] <B>getNames</B>(java.net.URL&nbsp;url)
                            throws java.net.MalformedURLException,
                                   java.io.IOException</PRE>
<DL>
<DD>Returns an array of Strings containing the names of all the
 entries for a given URL.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the root directory to search for
               entry names.<DT><B>Returns:</B><DD>a <code>String</code> array containing the entries
               names.<DT><B>Throws:</B><DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.IOException - if an I/O exception occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="getTag(java.net.URL)"><!-- --></A><H3>
getTag</H3>
<PRE>
public int <B>getTag</B>(java.net.URL&nbsp;url)
           throws java.net.MalformedURLException,
                  java.io.IOException</PRE>
<DL>
<DD>Returns an <code>int</code> corresponding to the current value
 of the tag for the persistent data store entry associated with the
 given URL.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the persistent data store entry
                for which the tag value is requested.<DT><B>Returns:</B><DD>an <code>int</code> containing one of the following
                tag values:
                <ul>
                    <li> <A HREF="../../javax/jnlp/PersistenceService.html#CACHED"><CODE>CACHED</CODE></A>
                    <li> <A HREF="../../javax/jnlp/PersistenceService.html#TEMPORARY"><CODE>TEMPORARY</CODE></A>
                    <li> <A HREF="../../javax/jnlp/PersistenceService.html#DIRTY"><CODE>DIRTY</CODE></A>
                </ul><DT><B>Throws:</B><DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.IOException - if an I/O exception occurs.</DL>
</DD>
</DL>
<HR>

<A NAME="setTag(java.net.URL, int)"><!-- --></A><H3>
setTag</H3>
<PRE>
public void <B>setTag</B>(java.net.URL&nbsp;url,
                   int&nbsp;tag)
            throws java.net.MalformedURLException,
                   java.io.IOException</PRE>
<DL>
<DD>Tags the persistent data store entry associated with the given URL
 with the given tag value.<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - the URL representing the persistent data store entry
                for which to set the tag value.<DD><CODE>tag</CODE> - the tag value to set.<DT><B>Throws:</B><DD>java.net.MalformedURLException - if the application is denied access to
                               the persistent data store represented by
                               the given URL.<DD>java.io.IOException - if an I/O exception occurs.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT ID="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT ID="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT ID="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../javax/jnlp/JNLPRandomAccessFile.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../javax/jnlp/PrintService.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PersistenceService.html" TARGET="_top"><B>NO FRAMES</B></A></FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY: &nbsp;INNER&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL: &nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright (c) 2001-2002 Sun Microsystems, Inc. All Rights Reserved
</BODY>
</HTML>
