#######################################################################################
##############                    To Do                                  ##############
#######################################################################################

Slider text box should display values allowed by the model but out of the range of the slider
     >>When a user types in an out of range value, the value is clamped to slider range
     >>Try indicators for slider out of range
        >>Add arrows to left and right of sliders for when the values go beyond the slider limits.

New sliders need to update when units change english/metric

New sliders need better aligned layout

Buggy behavior when an icon overlaps both the toolbox and the plate (nullpointerexception)

All items in the play area should scale on window resize
>>Move up baseline of buttons and bar chart, make graphs fill width and height

Add indicators for good/bad % fat and exercise amount (these will be vertical bar graphs)
>>Are there other factors within this simulation that we should use to indicate health?  Or perhaps overall health is not sufficiently covered by this simulation?
    Try vertical bars for body fat %, and exercise
    Color should indicate if it is a good value

Shouldn't be able to set more than 24 hours/day

Add popup-question mark button for BMI readout near scale

Remove popup-question mark button for old version of heart BMI readout

Clarify the meaning of "lifestyle" vs. other daily exercises
    Add description to sedentary, moderate activity, etc.
>>These should be in the main control panel as radio buttons, not in Edit Exercise
>>Add popups with explanations (from Noah)

Balanced diet popup dialog should have a better layout (slider may go off the screen on low resolution screens)

Arms and legs should bulge based on muscle %

Death and Dying:
x's for eyes, "Game over", Pac man sound

NP - the person should be able to starve to death or die of heart attack. Here is how it should probably work:

Starving:   If the person goes below 2% fat, they will die in 2 months. If they go back above 2% fat, they get to live and the clock restarts.
		>>When % fat is below 2%, a warning appears saying something like "Your body is in starvation mode. Death will occur soon."

>>Gender specific

Heart attack: If the person goes above XX% fat, they get a probability of having a heart attack each day. (Different % for men and women). This probability increases with % fat above XX%.
		To 1st order linear function, p_heart_attack = P_0*(%_fat - XX).
		Set P_0 so that the person dies in a few years if they have %fat above 50%.
		>>When % fat is above XX, a warning appears saying something like "Your body fat % is dangerously high. Probability of heart attack is (low, moderate, high, extreme)."
	>>Warning should be near the heart, with a click-for-more-info button (exaclamation point or something)

When the person dies, "x's" are put over their eyes and the sim stops. A box pops up and says "You have died from (starvation, heart attack). Click to start over."

height, weight and fat % will be the independent variables, but fat will be constrained by (the explanation below)

NP - Here is a simple way to think about what I said above: FFM range for men is 18.5/1.15*h^2 to 30/1.15*h^2, for women 18.5/1.23*h^2 to 30/1.23*h^2. This comes from assuming average % fat for people in this range (15% for men, 23% for women).

The lower limits above assume a very low FFM with average % fat - you can go below this limit by pushing down % body fat. Note that the lower limit is around a BMI of 16. At this point, you will be very low % fat and can begin removing FFM to drop weight, but you are now in the danger zone.

#######################################################################################
##############                    To Do/Noah                             ##############
#######################################################################################

I am not sure that I entirely agree with your calorie expenditures for physical activity.
    They seem a bit high and in many cases are absolute values. The total caloric cost for weight
    bearing activities should be based upon a per body weight value. What was your source for this information?

   >>>See section below on caloric expenditure from exercise.

NP - need to decide which activities are weight dependent and which are constant caloric expenditure.

>>>> Figure the given values are for an average person. So Caliories_burned = Cal * [1 + beta (W - W_0)/W_0], where Cal is the base calories for a person of weight W_0 (say 160 lb), W is the person's weight, and beta is 0 or 1 depending on thether the activity is weight dependent (1) or not (0). Beta could also be used to make activities more or less weight dependent (but for now leave it 0 or 1). Cal and beta are adjustable for each exercise, W_0 is a single constant for all exercises.


Fix text for "simulation age out of range" message

Come up with definitions for different lifestyles

Add the following:
>>1 large size fast food value meal
	1/4 pounder with cheese: 510 cal, 26 g fat, 40 g carb, 29 g protein
	Large fries: 		 500 cal, 25 g fat, 63 g carb,  6 g protein
	Large soft drink: 	 310 cal,  0 g fat, 86 g carb,  0 g protein

	Total:			1320 cal, 51 g fat, 189 g carb, 35 g protein
 
	Source http://www.mcdonalds.com/app_controller.nutrition.index1.html


>>Coffee shop, sugary drink
	Large sugary coffee blended drink with whipped cream: 590 cal, 22 g fat, 96 g carb, 9 g protein
	
	Source http://www.starbucks.com/retail/nutrition_beverage_detail.asp



How is body fat calculated?  How would a student know their % body fat to put in the simulation?

	NP – most people don’t know this. It is done either with a skin fold test (calipers), electric current (this is how these scales do it, not entirely accurate), or a submersion in water test (need a special facility). With skin fold, all the numbers are entered in a spreadsheet and it spits out a %. Electronic scales use weight, height, and conductivity (I don’t know the equation. I know it depends on how hydrated you are, and how long your legs are.)
	SR - Noah will come up with an equation for this based on other parameters
>>    SR - Problem: Fat % should be based on height and weight and gender, and update whenever height or weight or gender changes.  Fat free mass depends on height & gender only, not on weight, thus BMR depends only on height and gender
        Noah P will provide these functions


We could have the little question mark by the heart pop up a window with the list of risk factors for the heart from the American Heart Association. (smoking, etc)

    Description             Women   Men
    Essential fat           12–15%  2–5%
    Athletes                16–20%  6–13%
    Fitness                 21–24%  14–17%
    Acceptable              25–31%  18–25%
    Obese                   32%+    25%+
    source: http://en.wikipedia.org/wiki/Body_fat_percentage

I found this page somewhat helpful in thinking about the above.
http://weightloss.about.com/od/eatsmart/a/blcalintake.htm

Franny said on 6/13/2008:
I have been playing with the Simulation this morning and had a question for you. If in this simulation it appears that the change in percent body fat is at a high rate when making even the smallest change. I had a diet that I let run for a few years that was 50 cal above my energy expenditure and i watched my % fat go up by about 15% in a few years and then when I added a walking exercise (one of the lowest calorie expenditures) in a matter of 1 year I went from 30% body fat to about 10% body fat. I was wondering if there was a way to slow down the change in % body fat. i am not sure if it is equation based and has a time function built in, but that portion is not very realistic, so i thought i'd point it out.

NP - weight lost should be both muscle and fat. There should be some ratio of FFM to Fat mass that is probably constant whenever someone loses weight.



Article: Weight Loss-Induced Skeletal Muscle Loss: Accurate Estimation by Bioimpedance Analysis (BIA)

http://www.halls.md/fat/muscle.htm

Authors: Nuñez C, Kovera A, Wang ZM, Heymsfield SB.
Presented at : 8th International Congress on Obesity, Paris, August 29-September 3. 1998.
Abstract

    Objective: Loss of skeletal muscle (SM) is a characteristic body composition change associated with weight reduction treatment. Prevention of dieting-SM atrophy with appropriate food composition or exercise is an important research goal.
    Design: This study evaluated the accuracy of BIA (50kHz) in monitoring leg SM changes in a group of 71 obese women (X±SD, age, 40.0±7.3 yrs; BMI, 31.1±2.8kg/m2) undergoing 16-week weight loss treatment on conventional low calorie diet.
    Results: Subjects lost mean of 4.9 kg body mass, 4.3 kg as fat and 0.6 kg as fat-free mass. Pre-weight loss there was a strong correlation between predicted (Pr) and measured (M) leg SM (r=0.86, p<0.001; Pr=15.9±2.3 kg vs M=16.0±3.4 kg; p=NS). Similarly, agreement between Pr and M leg SM was good at post-weight loss (r=0.89, p<0.001; Pr=15.7±2.3 kg vs. M=15.8±3.4 kg; p=NS). There was a significant correlation between predicted and measured change in leg SM (r=0.45, p<0.001) and the mean change in Pr leg SM (-0.20±0.79 kg) was not significantly different from M leg SM (-0.22±0.52 kg).

>>> So based on this, muscle loss is maybe 12% of total weight loss when dieting. Seems reasonable.

>>> Model: when weight is lost due to lower calorie intake than expenditure, 12% of calories come from lean body mass, 88 % come from fat mass. Remove 4 g for every LBM calorie lost, 9 g for every fat calorie lost.

	So for example, if you take in 100 calories less than you burn, 12*4=48 g of LBM and 88*9=792 g of fat are lost.
    


   - there should be some muscle gained from exercising, to a point. This should be limited (you can only get so muscular). I had trouble finding anything on this, so I made up a model that seemed reasonable.


>>>Model: For every calorie exercised, all of the calories are burned. In addition, your body tries to make 10% of that number of calories into muscle, at a rate of 1/4 g of muscle ber calorie. So for example, if you do 1000 calories of exercise, 100 calories are are also turned into muscle (or 25 g). These calories are in addition to those burned to do the exercise itself. At this rate, one would build about 1 lb of muscle in 18 days, which seems reasonable. There is also feedback so that the more muscle you have, the less you can build, and at some point you cannot get any more muscular.

	Formula: M_muscle_gained = 0.1 * Cal_exercise * (LBM_0 - LBM)
	...where LBM is lean body mass, LBM_0 is 0.96 * sqrt(height / 30), or the lean body mass of a person with 4% body fat and a BMI of 30.


>>>These two features above will effectively make BMR vary according to your caloric intake (if you undereat, your BMR should drop some to compensate, vise versa for eating more and exercising).
   
>>> all other weight gained is added fat mass.

#######################################################################################
##############                    To Discuss                             ##############
#######################################################################################

Add Eating / Exercise labels to each side of the screen?

Performance: consider profiling or changing clock rate
    >>How severe is this problem?

Time readouts should be Years:Months, not years in decimal
    >>Wait for interviews